<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}{{ prefix_slash }}links{% endblock %}</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <nav class="navbar">
    <a href="{{ url_for('main.home') }}" class="navbar-brand">
      <div class="navbar-logo">{{ prefix_slash }}</div>
      <span class="navbar-title">links<span> Â· local shortener</span></span>
    </a>

    <ul class="navbar-menu">
      <li><a href="{{ url_for('main.home') }}" id="nav-links" class="{% block nav_links_class %}{% endblock %}">ðŸ”— Links</a></li>
      <li><a href="{{ url_for('main.home') }}#create" id="nav-create" onclick="focusCreate(event)" class="{% block nav_create_class %}{% endblock %}">ï¼‹ Create</a></li>
      <li><a href="{{ url_for('main.help_page') }}" id="nav-help" class="{% block nav_help_class %}{% endblock %}">ï¼Ÿ Help</a></li>
    </ul>
  </nav>

  <main class="main">
    {% block content %}{% endblock %}
  </main>

  <script>
    const path = window.location.pathname;
    const helpPath = "{{ url_for('main.help_page') }}";

    if (path === helpPath) document.getElementById('nav-help')?.classList.add('active');
    else document.getElementById('nav-links')?.classList.add('active');

    function focusCreate(e) {
      e.preventDefault();
      const el = document.querySelector('input[name="slug"]');
      if (el) { el.focus(); el.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
      else window.location.href = "{{ url_for('main.home') }}";
    }
  </script>
</body>
</html>
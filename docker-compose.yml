services:
  vilinks:
    build:
      context: .
      dockerfile: docker/Dockerfile
    container_name: vilinks
    ports:
      - "127.0.0.1:${VILINKS_PORT:-8765}:8765"
    environment:
      VILINKS_BIND: "0.0.0.0"
      VILINKS_PORT: "8765"
      VILINKS_DB: "/data/vilinks.db"
      VILINKS_PREFIX: "${VILINKS_PREFIX:-vi}"
      VILINKS_BASE_URL: "http://${VILINKS_PREFIX:-vi}.localhost:${VILINKS_PORT:-8765}/"
    volumes:
      - "${VILINKS_DATA_DIR:-./.data}:/data"